<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Page-Enter" content="blendTrans(Duration=0)">
    <meta http-equiv="Page-Exit" content="blendTrans(Duration=0)">
    <title>@ViewBag.Title</title>
    <link href="~/Bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="~/Css/StyleSheet.css" rel="stylesheet" />
    <link href="~/Css/StyleSheetLeftMenu.css" rel="stylesheet" />
    <link href="~/Css/TableWithSearch.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://www.malot.fr/bootstrap-datetimepicker/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css" rel="stylesheet">
    @*<script src="~/scripts/jquery-3.1.1.min.js"></script>*@
    <script src="~/scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Bootstrap/js/bootstrap.js"></script>
    <script src="~/scripts/bootstrap-datepicker.js"></script>
    <link href="~/Content/bootstrap-datepicker.css" rel="stylesheet" />
    <script src="https://www.malot.fr/bootstrap-datetimepicker/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>

    <style type="text/css">
        .col-md-3, .col-sm-3, .col-lg-3 {
            padding-right: 0px;
            padding-left: 0px;
        }

        .logininfo {
            background-color: aliceblue;
            padding: 7px;
            top: -10px;
            position: absolute;
            width: 100%;
        }



        /*Boot Strap Date Picker*/

        .datepicker td,
        .datepicker th {
            width: auto;
        }

        .datepicker td, .datepicker th {
            -webkit-border-radius: 0px;
            -moz-border-radius: 0px;
            border-radius: 0px;
            border: none;
        }

        .dropdown-menu {
            font-size: 10px;
        }

        .datepicker-dropdown:before {
            display: none;
            position: absolute;
        }

        .datepicker-dropdown:after {
            display: none;
            position: absolute;
        }



        .zoomin img {
            -webkit-transition: all .3s ease;
            -moz-transition: all .3s ease;
            -ms-transition: all .3s ease;
            transition: all .3s ease;
        }

            .zoomin img:hover {
                width: 300px;
                height: 200px;
                z-index: 3;
            }

        .img_container {
            position: relative;
            width: 260px;
            height: 178px;
            overflow: hidden;
            color: transparent;
        }

        .item {
            position: absolute;
            top: 0;
            left: 0;
        }

        .img_container:hover .item img {
            -webkit-transform: scale(1.2);
            transform: scale(1.2);
        }

        .item img {
            -webkit-transition: 0.6s ease;
            transition: 0.6s ease;
        }

        .link {
            color: white;
        }

        .container {
            padding-left: 0px;
            padding-right: 0px;
            width: 100%;
        }

        .row {
            margin: 0;
            padding: 0;
        }

        .navbar-toggle {
            color: white;
        }
        /*Boot Strap Date Picker end*/
    </style>
</head>


<body style="background-color:white">
    <div class="container" style="background-color:rgb(46, 109, 164);">

        <div class="col-md-12">
            <div class="navbar-header">
                <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <!-- Collection of nav links and other content for toggling -->
            <div id="navbarCollapse" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a class="link" href="~/Home/HomePage" title="PMS Home">Home</a></li>
                    <li><a class="link" href="">About Us</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a class="link" data-target="#LoginModal" data-toggle="modal" href="#LoginModal">Register/Login</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <img style="float:left;padding:5px" src="~/Attachment/parking_logo.jpg" width="60" height="60">
                    <h1>@TempData["ProjectName"]</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="container" style="background-color:#e8e5e5">
        <div class="content" style="padding:15px; margin-top:20px; height:400px">
            @RenderBody()
        </div>
    </div>


    <div class="container">
        <div class="row bottom_row">
            <div class="col-md-12 col-sm-12 col-lg-12">
                <footer id="footer">
                    Copyright &copy VaaaN Infra @DateTime.Now.Year

                </footer>
            </div>
        </div>
    </div>
    <div id="LoginModal" class="modal fade" role="dialog" data-keyboard="false">
        <div class="modal-sm modal-dialog  modal-dialog-backcolor">
            <div class="modal-login">
                <div class="modal-header text-center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <img src="~/Attachment/index.png" width="60" height="60">
                    <h3 class="modal-title text-center" style="margin-top:5px">Login</h3>
                </div>
                <div class="modal-body col-lg-8 col-md-8 col-lg-offset-2">

                    <div class="form-group">
                        <label for="txtUserName" class="form-label">Username</label>
                        <input class="form-control" id="txtUserName" placeholder="Username" />
                    </div>
                    <div class="form-group">
                        <label for="txtPassword" class="form-label">Password</label>
                        <input type="password" class="form-control" id="txtPassword" placeholder="Password" />
                    </div>
                    <div class="form-group text-center">
                        <button class="btn  btn-primary" name="buttonLogin" id="buttonLogin">LOGIN</button>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 text-left">
                            <span id="errormsg" style="color:red; font-weight:bold;"></span>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <a data-target="#ChangePasswordModal" data-toggle="modal" href="#ChangePasswordModal"><h4 class="text-center">Forgot Password?</h4></a>
                </div>
            </div>
        </div>
    </div>


</body>
</html>
<script type="text/javascript">
    $(document).ready(function () {

        $("#buttonLogin").focus();
        $("#buttonLogin").click(function () {
            // validation
            var username = $("#txtUserName").val();
            var passward = $("#txtPassword").val();
            $("#errormsg").text('');


            if (username == '') {
                $("#errormsg").text('User Name must be required');
                return false;
            }
            if (passward == '') {
                $("#errormsg").text('Password must be required');
                return false;
            }


              $.ajax({
           type: 'POST',
              //  url: '../Home/DoLogin/',
                url: "@Url.Action("DoLogin", "Home")",
                dataType: 'json',
                data: {
               username: username, password: passward
                },
                success: function (data) {
                   if (data == 'Error') {
                        $("#errormsg").text('Trouble in login.');
                   }
                   else if(data == 'Inactive'){
                        $("#errormsg").text('Account is Inactive.');
                   } else if (data == 'Expired') {
                        $("#errormsg").text('Account is Expired.');
                   }
                   else {
                       location.href ="@Url.Action("UsersList", "Home")";
                   }
               },
                error: function (ex) {
                   // $("#errormsg").text('Trouble in login. Exception');
               }
           });
        });

    });
</script>
