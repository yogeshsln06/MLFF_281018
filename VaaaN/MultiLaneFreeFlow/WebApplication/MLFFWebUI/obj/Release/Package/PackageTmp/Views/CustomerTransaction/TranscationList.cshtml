@using System.Data
@model DataTable
@{ int rowNo = 0; }
<table id="dataTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>
                #
            </th>
            <th>
                Id
            </th>
            <th>
                Date Time
            </th>
            <th>
                Gantry
            </th>
            <th>
                <div class="row text-center">
                    <div class="col-sm-12 bot-border">
                        EVI
                    </div>
                    <div class="col-sm-6">
                        VRN
                    </div>
                    <div class="col-sm-6">
                        Class
                    </div>
                </div>
            </th>
            <th>
                <div class="row text-center">
                    <div class="col-sm-12 bot-border">
                        ANPR Front
                    </div>
                    <div class="col-sm-3">
                        VRN
                    </div>
                    <div class="col-sm-3">
                        Class
                    </div>
                    <div class="col-sm-3">
                        Image
                    </div>
                    <div class="col-sm-3">
                        Video
                    </div>
                </div>
            </th>
            <th>
                <div class="row text-center">
                    <div class="col-sm-12 bot-border">
                        ANPR Rear
                    </div>
                    <div class="col-sm-3">
                        VRN
                    </div>
                    <div class="col-sm-3">
                        Class
                    </div>
                    <div class="col-sm-3">
                        Image
                    </div>
                    <div class="col-sm-3">
                        Video
                    </div>
                </div>
            </th>
            <th>
                Speed
            </th>
            <th>
                
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (DataRow item in Model.Rows)
        {
            <tr>
                <td>
                    @(rowNo += 1)
                </td>
                <td>
                    @item["TRANSACTION_ID"].ToString()
                </td>
                <td>
                    @item["TRANSACTION_DATETIME"].ToString()
                </td>
                <td>
                    @item["PLAZA_NAME"].ToString()
                </td>
                <td>
                    <div class="row">
                        <div class="col-md-6 text-center">
                            @item["CTP_VRN"].ToString()
                        </div>
                        <div class="col-md-6 text-center">
                            @item["CTP_VEHICLE_CLASS_NAME"].ToString()
                        </div>
                    </div>
                </td>
                <td>
                    <div class="row">
                        <div class="col-sm-3 text-center">
                            @item["FRONT_VRN"].ToString()
                        </div>
                        <div class="col-sm-3 text-center">
                            @item["NFP_VEHICLE_CLASS_NAME_FRONT"].ToString()
                        </div>
                        <div class="col-sm-3 text-center">
                            @if (item["FRONT_IMAGE"].ToString() != "")
                            {
                                string path = ViewData["apiPath"] + item["FRONT_IMAGE"].ToString();
                                string path1 = path.Replace('/', '^');
                            <span onclick="openimage(this);" path="@path1">
                                <img src="@path" height="40" width="60" />
                            </span>

                            }
                        </div>
                        <div class="col-sm-3 text-center">
                            @if (item["FRONT_VIDEO_URL"].ToString() != "")
                            {
                                string path = item["FRONT_VIDEO_URL"].ToString();
                                path = path.Replace('/', '^');
                            <a onclick="openVideo(this);" class="edit" path="@path"><i class="fa fa-file-video-o" aria-hidden="true" title="click to view" style="font-size: 18px;"></i></a>
                            }

                        </div>
                    </div>
                </td>
                <td>
                    <div class="row">
                        <div class="col-sm-3 text-center">
                            @item["REAR_VRN"].ToString()
                        </div>
                        <div class="col-sm-3 text-center">
                            @item["NFP_VEHICLE_CLASS_NAME_REAR"].ToString()
                        </div>
                        <div class="col-sm-3 text-center">
                            @if (item["REAR_IMAGE"].ToString() != "")
                            {
                                string path = ViewData["apiPath"] + item["REAR_IMAGE"].ToString();
                                string path1 = path.Replace('/', '^');
                                <span onclick="openimage(this);" path="@path1">
                                    <img src="@path" height="40" width="60" />
                                </span>

                            }
                        </div>
                        <div class="col-sm-3 text-center">
                            @if (item["REAR_VIDEO_URL"].ToString() != "")
                            {
                                string path = item["REAR_VIDEO_URL"].ToString();
                                path = path.Replace('/', '^');
                                <a onclick="openVideo(this);" class="edit" path="@path"><i class="fa fa-file-video-o" aria-hidden="true" title="click to view" style="font-size: 18px;"></i></a>
                            }

                        </div>
                    </div>
                </td>
                <td>
                    @item["VEHICLESPEED"].ToString() Km/h
                </td>
                <td>
                    <span class="cur-p btn-light icon-holder" aria-expanded="false">
                        <i class='c-blue-500 ti-pencil-alt2'></i>
                    </span>
                </td>

            </tr>
        }
    </tbody>
</table>

